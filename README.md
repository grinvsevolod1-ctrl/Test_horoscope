# Daily Astro - –°–µ—Ä–≤–∏—Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤

–ü–ª–∞—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤ —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –≤ Telegram –∏ —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã–º–∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏ —á–µ—Ä–µ–∑ bePaid.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Frontend**: Next.js 15 + Tailwind CSS (–ª–µ–Ω–¥–∏–Ω–≥ + —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–∫–∏)
- **Backend**: Next.js API Routes (REST API + webhooks)
- **Database**: PostgreSQL (Neon)
- **Cache**: Redis (Upstash)
- **Bot**: Telegram Bot API (webhook-—Ä–µ–∂–∏–º)
- **Payments**: bePaid (Hosted Payment Page + —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏)
- **Cron**: Vercel Cron Jobs (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤, —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã–µ —Å–ø–∏—Å–∞–Ω–∏—è)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
# –∏–ª–∏
bun install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Vercel:

- `DATABASE_URL` - Neon PostgreSQL
- `KV_*` - Upstash Redis
- `BOT_TOKEN` - `8411812713:AAFp6FbQ5PNOz0t8P0N8TCQ4zAIgAm5PIvo`
- `NEXT_PUBLIC_APP_URL` - `https://dailyastro.site`
- `BEPAID_*` - bePaid credentials
- `CRON_SECRET` - –°–µ–∫—Ä–µ—Ç –¥–ª—è cron –∑–∞–¥–∞—á
- `ADMIN_PASSWORD` - `94Hepume_1` (–ø–∞—Ä–æ–ª—å –¥–ª—è –∞–¥–º–∏–Ω–∫–∏)

### 3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç—ã –ø–æ –ø–æ—Ä—è–¥–∫—É:

```sql
-- 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
scripts/001-create-tables.sql

-- 2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (90+ —à–∞–±–ª–æ–Ω–æ–≤)
scripts/002-seed-content-templates.sql

-- 3. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
scripts/003-add-indexes.sql

-- 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–≤ (3 BYN, 6 BYN, 12 BYN)
scripts/004-seed-plans.sql
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram webhook

**üéâ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê**

Webhook –±–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏ —Å–∞–π—Ç–∞!

–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ `https://dailyastro.site` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `WebhookInitializer` –Ω–∞—Å—Ç—Ä–æ–∏—Ç webhook –≤ —Ñ–æ–Ω–µ.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—Ä—É—á–Ω–æ–π):**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `https://dailyastro.site/admin`
2. –í–æ–π–¥–∏—Ç–µ —Å –ø–∞—Ä–æ–ª–µ–º: `94Hepume_1`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ë–æ—Ç"
4. –ù–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Webhook"

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
- –ê–¥–º–∏–Ω–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å webhook –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ó–µ–ª—ë–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ = –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ö—Ä–∞—Å–Ω—ã–π –∫—Ä–µ—Å—Ç–∏–∫ = –Ω—É–∂–Ω–∞ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞: [@Dailyastrobelarusbot](https://t.me/Dailyastrobelarusbot)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞
4. –û—Ñ–æ—Ä–º–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ —Å–∞–π—Ç–µ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                    # –õ–µ–Ω–¥–∏–Ω–≥ + –∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webhook
‚îÇ   ‚îú‚îÄ‚îÄ subscribe/                  # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (3 —à–∞–≥–∞)
‚îÇ   ‚îú‚îÄ‚îÄ checkout/success/           # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ admin/                      # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–∑–∞—â–∏—â–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–º)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx               # Dashboard
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/                 # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptions/         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payments/              # –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forecasts/             # –ü—Ä–æ–≥–Ω–æ–∑—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bot/                   # –°—Ç–∞—Ç—É—Å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ plans/                  # –°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ subscribe/              # –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ init/                   # –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webhook
‚îÇ       ‚îú‚îÄ‚îÄ webhooks/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ bepaid/            # Webhook –æ—Ç bePaid
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ telegram/          # Webhook –æ—Ç Telegram (nodejs runtime)
‚îÇ       ‚îú‚îÄ‚îÄ cron/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ daily/             # –ï–¥–∏–Ω–∞—è –∑–∞–¥–∞—á–∞: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è + –¥–æ—Å—Ç–∞–≤–∫–∞ (05:00 UTC)
‚îÇ       ‚îî‚îÄ‚îÄ admin/
‚îÇ           ‚îú‚îÄ‚îÄ login/             # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ
‚îÇ           ‚îî‚îÄ‚îÄ logout/            # –í—ã—Ö–æ–¥
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ landing/                   # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ª–µ–Ω–¥–∏–Ω–≥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header.tsx            # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hero-section.tsx      # –ì–ª–∞–≤–Ω—ã–π –±–ª–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features-section.tsx  # –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ demo-section.tsx      # –î–µ–º–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pricing-section.tsx   # –¢–∞—Ä–∏—Ñ—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ faq-section.tsx       # FAQ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ footer.tsx            # –ü–æ–¥–≤–∞–ª
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sticky-cta.tsx        # –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ zodiac-icons.tsx      # SVG –∏–∫–æ–Ω–∫–∏ –∑–Ω–∞–∫–æ–≤ –∑–æ–¥–∏–∞–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ ui/                        # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cosmic-background.tsx  # –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ planet-3d.tsx         # 3D –ø–ª–∞–Ω–µ—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ webhook-initializer.tsx    # –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webhook
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ bepaid.ts                  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å bePaid
‚îÇ   ‚îî‚îÄ‚îÄ types/                     # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ scripts/                       # SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (4 —Ñ–∞–π–ª–∞)
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ favicon.svg                # –ò–∫–æ–Ω–∫–∞ —Å–∞–π—Ç–∞
‚îî‚îÄ‚îÄ vercel.json                    # Cron + headers
```

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–ª–æ—É

### –§–ª–æ—É –ø–æ–¥–ø–∏—Å–∫–∏ (—Å–∞–π—Ç)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥ `https://dailyastro.site`
2. –í—ã–±–∏—Ä–∞–µ—Ç —Ç–∞—Ä–∏—Ñ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/subscribe`
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É (3 —à–∞–≥–∞):
   - –í—ã–±–æ—Ä –∑–Ω–∞–∫–∞ –∑–æ–¥–∏–∞–∫–∞ (–∫—Ä–∞—Å–∏–≤—ã–µ SVG –∏–∫–æ–Ω–∫–∏)
   - Telegram username
   - –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
4. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î
   - –ü–æ–¥–ø–∏—Å–∫—É —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `trial` (7 –¥–Ω–µ–π)
   - Redirect –Ω–∞ bePaid Hosted Payment Page (—Ç–µ—Å—Ç–æ–≤–∞—è)
5. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã ‚Üí `/checkout/success` —Å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
6. Webhook –æ—Ç bePaid ‚Üí –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏

### –§–ª–æ—É –ø–æ–¥–ø–∏—Å–∫–∏ (–±–æ—Ç)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start` –±–æ—Ç—É
2. –í—ã–±–∏—Ä–∞–µ—Ç –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞ (inline-–∫–Ω–æ–ø–∫–∏ —Å emoji)
3. –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É ‚Üí —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç
4. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç `telegram_id` —Å –∑–∞–ø–∏—Å—å—é –≤ –ë–î
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä–≤—ã–π –ø—Ä–æ–≥–Ω–æ–∑

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è)

**05:00 UTC (08:00 –ø–æ –ú–∏–Ω—Å–∫—É)** - –µ–¥–∏–Ω–∞—è cron –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook** (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤** –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (12 –∑–Ω–∞–∫–æ–≤ –∑–æ–¥–∏–∞–∫–∞)
   - –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∏–∑ 76 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü—É `forecasts`
3. **–î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤** –≤—Å–µ–º –∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Telegram Bot API
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `deliveries`
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –∏—Å—Ç–µ–∫–∞—é—â–∏—Ö –ø–æ–¥–ø–∏—Å–∫–∞—Ö

### –†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏

1. **03:00 UTC** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ —Å `renew_at <= today`
2. –î–ª—è –∫–∞–∂–¥–æ–π:
   - –ü–æ–ø—ã—Ç–∫–∞ —Å–ø–∏—Å–∞–Ω–∏—è —á–µ—Ä–µ–∑ `payment_token`
   - –£—Å–ø–µ—Ö ‚Üí –ø—Ä–æ–¥–ª–µ–Ω–∏–µ `renew_at` –Ω–∞ +30 –¥–Ω–µ–π
   - –ù–µ—É–¥–∞—á–∞ ‚Üí —Å—Ç–∞—Ç—É—Å `grace` (3 –¥–Ω—è)
   - –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –Ω–µ—É–¥–∞—á–∞ ‚Üí —Å—Ç–∞—Ç—É—Å `expired`
3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –±–æ—Ç–µ

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É / –≤—ã–±–æ—Ä –∑–Ω–∞–∫–∞ –∑–æ–¥–∏–∞–∫–∞
- `/forecast` - –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- `/plan` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ + –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
- `/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∑–Ω–∞–∫, –ø–∞—É–∑–∞)
- `/pause` - –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/–≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É
- `/cancel` - –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ

- `GET /api/plans` - –°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤
- `POST /api/subscribe` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- `GET /api/init` - –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webhook (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### Webhooks

- `POST /api/webhooks/telegram` - Telegram updates (nodejs runtime, no cache)
- `POST /api/webhooks/bepaid` - bePaid payment notifications

### Cron (–∑–∞—â–∏—â–µ–Ω—ã CRON_SECRET)

- `GET /api/cron/daily` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è + –¥–æ—Å—Ç–∞–≤–∫–∞ + webhook setup (05:00 UTC)

### Admin (–∑–∞—â–∏—â–µ–Ω—ã –ø–∞—Ä–æ–ª–µ–º)

- `GET /admin` - Dashboard (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- `GET /admin/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /admin/subscriptions` - –ü–æ–¥–ø–∏—Å–∫–∏
- `GET /admin/payments` - –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
- `GET /admin/forecasts` - –ü—Ä–æ–≥–Ω–æ–∑—ã –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- `GET /admin/bot` - –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ + –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook
- `POST /admin/login` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /admin/logout` - –í—ã—Ö–æ–¥

## –¢–∞—Ä–∏—Ñ—ã

| –¢–∞—Ä–∏—Ñ | –¶–µ–Ω–∞ | –§–∏—á–∏ |
|-------|------|------|
| –ë–∞–∑–æ–≤—ã–π | 3 BYN/–º–µ—Å | –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑, 4 –±–ª–æ–∫–∞ |
| –ü–ª—é—Å | 6 BYN/–º–µ—Å | + –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –∞—Ñ—Ñ–∏—Ä–º–∞—Ü–∏–∏ |
| –ü—Ä–µ–º–∏—É–º | 12 BYN/–º–µ—Å | + –í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã, –≥–∏–±–∫–æ–µ –≤—Ä–µ–º—è |

–í—Å–µ —Ç–∞—Ä–∏—Ñ—ã –≤–∫–ª—é—á–∞—é—Ç **7 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ**.

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–°–µ—Ä–≤–∏—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω:

1. **Webhook –±–æ—Ç–∞** –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏ —Å–∞–π—Ç–∞
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 05:00 UTC
3. **–î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤** –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
4. **–†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
5. **–ê–¥–º–∏–Ω–∫–∞** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–í–∞–º **–Ω–µ –Ω—É–∂–Ω–æ** –Ω–∏—á–µ–≥–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏!

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- bePaid webhooks –∑–∞—â–∏—â–µ–Ω—ã HMAC signature
- Cron endpoints —Ç—Ä–µ–±—É—é—Ç `CRON_SECRET`
- Admin endpoints –∑–∞—â–∏—â–µ–Ω—ã –ø–∞—Ä–æ–ª–µ–º —á–µ—Ä–µ–∑ –∫—É–∫–∏
- Webhook Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ nodejs runtime –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- SQL injection –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- Rate limiting –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö endpoints
- `trailingSlash: false` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è 307 redirects

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å webhook –≤ –∞–¥–º–∏–Ω–∫–µ: `/admin/bot`
2. –ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É 307 - –Ω–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Webhook"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `BOT_TOKEN` –∏ `NEXT_PUBLIC_APP_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` –±–æ—Ç—É —Å–Ω–æ–≤–∞

### –ü—Ä–æ–≥–Ω–æ–∑—ã –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–±—Ä–∞–Ω –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ: `/admin/subscriptions`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ cron –∑–∞–¥–∞—á–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (–ª–æ–≥–∏ –≤ Vercel)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `deliveries` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –ê–¥–º–∏–Ω–∫–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `ADMIN_PASSWORD` = `94Hepume_1` –≤ Vercel
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—É–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –õ–æ–≥–∏ –≤–µ–±—Ö—É–∫–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ `payments`
- –û—à–∏–±–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ `deliveries`
- –ú–µ—Ç—Ä–∏–∫–∏ –≤ Vercel Analytics
- Alerts –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ webhook delivery rate

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞: —á–µ—Ä–µ–∑ `/help` –≤ –±–æ—Ç–µ
- Email: support@dailyastro.site
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: https://dailyastro.site/admin

## –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - –≤—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
